<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>D√©corIA - Re-d√©corez avec l'IA</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

</head>
<body>
  <div class="page-transition"></div>
  
  <!-- ton header / navbar -->
  <header class="navbar">
    <div class="logo">
      <img src="images/lol.png" alt="Logo">
    </div>
    <ul>
      <li><a href="index.html">Accueil</a></li>
      <li><a href="boutique.html">Boutique</a></li>
      <li><a href="inspirations.html">Inspirations</a></li>
      <li><a href="features.html">Fonctionnalit√©s</a></li>
      <li><a href="contact.html">Contact</a></li>
    </ul>
  </header>


  <!-- Hero -->
  <!-- Hero -->
<section class="hero">
  <div class="hero-text">
    <h1 class="typing-text">Re-d√©corez votre pi√®ce en un clic <br> avec l'IA</h1>
    <p>Prenez une photo de votre pi√®ce et laissez l‚ÄôIA trouver la nouvelle d√©coration</p>

    <!-- BOUTON + input cach√© -->
    <button id="try-now" class="btn cta-btn">Essayez maintenant</button>
    <input type="file" id="upload" accept="image/*" style="display:none;">
    <p class="info-text">üí° Pour de meilleurs r√©sultats, utilisez une photo panoramique</p>
  </div>

  <div class="hero-image">
  <div class="before-after">
    <div class="image-container">
      <img src="images/before.png" alt="Before" class="ba-img">
      <span class="img-label">Before</span>
    </div>
    <div class="image-container">
      <img src="images/after.png" alt="After" class="ba-img">
      <span class="img-label">After</span>
    </div>
  </div>
</div>

</section>

<!-- ... le reste du code ne change pas ... -->

<!-- Bouton d√©clencheur -->


<!-- Modal -->
<div id="styleModal" class="modal hidden">
  <div class="modal-content">
    <h2>Choisissez un style</h2>
    <div class="styles-grid">
      <div class="style-card" data-style="moderne">
        <img src="https://via.placeholder.com/120x80?text=Moderne" alt="Moderne">
        <p>Moderne</p>
      </div>
      <div class="style-card" data-style="scandinave">
        <img src="https://via.placeholder.com/120x80?text=Scandinave" alt="Scandinave">
        <p>Scandinave</p>
      </div>
      <div class="style-card" data-style="minimaliste">
        <img src="https://via.placeholder.com/120x80?text=Minimaliste" alt="Minimaliste">
        <p>Minimaliste</p>
      </div>
      <div class="style-card" data-style="industriel">
        <img src="https://via.placeholder.com/120x80?text=Industriel" alt="Industriel">
        <p>Industriel</p>
      </div>
    </div>
    <button id="cancelModal">Annuler</button>
  </div>
</div>

<style>
/* Modal background */
.modal {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  display: flex; justify-content: center; align-items: center;
  background: rgba(0,0,0,0.5);
  z-index: 1000;
}

/* Hide modal */
.hidden { display: none; }

/* Modal box */
.modal-content {
  background: white;
  padding: 20px;
  border-radius: 12px;
  width: 80%;
  max-width: 500px;
  text-align: center;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  animation: fadeIn 0.3s ease;
}

/* Grid of styles */
.styles-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 15px;
  margin: 20px 0;
}

.style-card {
  border: 2px solid #ccc;
  border-radius: 10px;
  cursor: pointer;
  overflow: hidden;
  transition: transform 0.2s, border-color 0.2s;
}

.style-card:hover {
  transform: scale(1.05);
  border-color: #6c63ff;
}

.style-card img {
  width: 100%;
  display: block;
}

.style-card p {
  margin: 10px 0;
  font-weight: bold;
}

#cancelModal {
  background: #ccc;
  border: none;
  padding: 10px 20px;
  border-radius: 8px;
  cursor: pointer;
}
</style>

<script>
document.getElementById('try-now').addEventListener('click', () => {
  document.getElementById('upload').click();
});

let selectedFile = null;

document.getElementById('upload').addEventListener('change', async (e) => {
  selectedFile = e.target.files[0];
  if (!selectedFile) return;

  // Affiche la modale
  document.getElementById('styleModal').classList.remove('hidden');
});

// Gestion de la s√©lection de style
document.querySelectorAll('.style-card').forEach(card => {
  card.addEventListener('click', async () => {
    const style = card.dataset.style;

    const formData = new FormData();
    formData.append('photo', selectedFile);
    formData.append('style', style);

    const res = await fetch('https://roomify-1-0tbs.onrender.com/api/decor', {
      method: 'POST',
      body: formData
    });

    if (!res.ok) {
      const err = await res.json();
      alert('Erreur: ' + (err.error || res.statusText));
      return;
    }

    const data = await res.json();
    alert('Suggestions:\n' + (Array.isArray(data.suggestions) ? data.suggestions.join('\n- ') : data.suggestions));

    // Fermer la modale apr√®s s√©lection
    document.getElementById('styleModal').classList.add('hidden');
  });
});

// Bouton annuler
document.getElementById('cancelModal').addEventListener('click', () => {
  document.getElementById('styleModal').classList.add('hidden');
});
</script>



  <!-- Comment √ßa marche -->
  <section class="steps">
    <h2>Comment √ßa marche</h2>
    <div class="steps-container">
      <div class="step">
        <img src="https://img.icons8.com/ios/50/upload.png" alt="Upload">
        <p>T√©l√©chargez une photo</p>
      </div>
      <div class="step">
        <img src="https://img.icons8.com/ios/50/todo-list.png" alt="Style">
        <p>S√©lectionnez un style</p>
      </div>
      <div class="step">
        <img src="https://img.icons8.com/ios/50/image.png" alt="Result">
        <p>D√©couvrez le r√©sultat</p>
      </div>
    </div>
  </section>

  <!-- Inspire -->
  <section class="inspire">
    <h2>Inspirez-vous</h2>
    <div class="inspire-gallery">
      <img src="images/exemple1.png" alt="Exemple 1">
      <img src="images/exemple2.png" alt="Exemple 2">
      <img src="images/exemple3.png" alt="Exemple 3">
    </div>
  </section>

  <!-- CTA -->
  <section class="cta">
    <h2>Pr√™t √† commencer ?</h2>
    <a href="#" class="btn">Essayez maintenant</a>
  </section>

w
  <script>
document.addEventListener("DOMContentLoaded", () => {
  // Liste des backgrounds (mets tes propres chemins d'images)
  const backgrounds = [
    "images/background.jpg",
    "images/background2.jpg",
    "images/background1.jpg",
    "images/background4.jpeg",
    "images/background5.jpg"
  ];

  const hero = document.querySelector(".hero");
  let index = 0;

  setInterval(() => {
    index = (index + 1) % backgrounds.length;
    hero.style.backgroundImage = `url('${backgrounds[index]}')`;
  }, 10000); // 10 000 ms = 10s
});
</script>


  <script>
  document.addEventListener("DOMContentLoaded", () => {
    const transitionEl = document.querySelector(".page-transition");
    const boutiqueLink = document.querySelector("a[href*='boutique']");

    if (boutiqueLink) {
      boutiqueLink.addEventListener("click", (e) => {
        e.preventDefault();
        transitionEl.classList.add("active");

        setTimeout(() => {
          window.location.href = boutiqueLink.href;
        }, 800); // doit correspondre au "transition: 0.8s"
      });
    }
  });
</script>

</body>
</html>
